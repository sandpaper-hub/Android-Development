#переменные #тип_данных #Java 
Очень важно следить за тем, какие типы данных участвуют в вычислениях.

Даже если это простейшая арифметическая операция, результат вычисления может оказаться некорректным из-за того, что данные, использованные при вычислении, не соответствовали указанным типам.

Ранее мы рассмотрели пример с типом `float`, когда для вычисления использовались целочисленные значения:

```java
float result = 5 / 2; 
```

Предложим исправление, добавив постфикс к значениям для уточнения типа данных:

```java
float result = 5f / 2f; 
```

Но что если эти значения присвоены каким-то переменным?

```java
int a = 5, b = 2;
float result = a / b; 
```

В этом случае добавление постфикса не сработает, поскольку `af` и `bf` будут распознаваться как имена переменных, которые не были объявлены.

На этот случай в Java предусмотрена возможность преобразования типа переменной из одного в другой. Например, из целочисленного в дробный или из дробного в целочисленный.

Эта операция называется ==**приведением типа**== и производится следующим образом:

```java
float result = (float) a / (float) b; 
```

Перед переменной, значение которой мы хотим привести к другому типу, необходимо в скобках указать тот тип, с которым мы хотим работать.

Это можно использовать, если необходимо получить целую часть от деления двух вещественных чисел:

```jAva
float a = 1.23f, b = 5.33f;
float c = b / a;
int result = (int) c; 
```

При приведении типа `float` к `int` отсекается дробная часть, поскольку переменная типа `int` может хранить только целочисленные значения.

Приведение можно осуществить и по отношению к целому выражению, если необходимо, чтобы результат вычисления имел конкретный тип. Для этого важно всё выражение взять в скобки:

```java
int a = (int) (7.5 / 2 + 4); // результат этого выражения 7.75, но, поскольку мы произвели приведение к типу int, в переменной a будет храниться значение 7 
```

Необходимость в приведении может возникнуть и в случае с целочисленными значениями:

```java
short age = 22;
age = age + 1; // среда разработки сообщит об ошибке здесь 
```

Поскольку все целочисленные значения, которые записываются в коде в явном виде, распознаются средой разработки и компилятором как `int`, то подобные выражения считаются неверными.

Это происходит из-за того, что мы пытаемся прибавить к значению типа `short` значение типа `int`, которое может быть гораздо больше, чем поддерживает тип `short`.

Можно заменить `short` на `int`, и тогда проблем не будет. Но если мы хотим продолжать работать именно с этим типом данных, то тут нам поможет приведение типов:

```java
short age = 22;
age = (short) (age + 1); // в этом случае ошибки не будет 
```

При использовании приведения типов важно чётко представлять, какое преобразование вы ожидаете получить и поддерживает ли Java преобразование в указанный тип данных. Если преобразование невозможно, то ошибка произойдёт не во время компиляции, а во время работы приложения, что гораздо критичней.

В Java можно без ошибок производить приведение из любых примитивных типов к любым примитивным типам.

При преобразовании переменной из ёмкого типа `int` или `long` в менее объёмный `short` или `byte`, если значение исходной переменной при этом больше, чем может уместить целевой тип, то результат преобразования окажется непредсказуемым. Например:

```java
byte b;
int c = 1000;
b = (byte) c; 
```

В результате такого приведения в переменной `b` будет храниться неожиданное значение -24, поскольку `byte` не может вместить значение больше 127. Предугадать, какое значение получится после приведения переменной с большим значением, не представляется возможным.

**Автоматическое преобразование**
![[Преобразование типов.png]]